import{u as w,r as i,o as u,c as r,b as e,h as y,v as C,F as g,f as x,j as b,k as m,t as l,_ as R}from"./index-dbdb631f.js";const S={class:"w-[450px] mx-auto card"},I={class:"card-body"},L=e("h2",{class:"text-xl font-semibold"},"Search a student",-1),N={class:"mt-5 space-y-5"},k={class:"relative card-body"},V=e("span",{class:"font-semibold"},"Name:",-1),j=e("span",{class:"font-semibold"},"Course:",-1),B=e("span",{class:"font-semibold"},"Joining Id:",-1),F=e("img",{src:R,alt:"",class:"absolute h-10 top-10 right-5"},null,-1),D={class:"overflow-x-auto"},E={class:"table"},J=e("thead",null,[e("tr",null,[e("th",null,"SL No"),e("th",null,"Exam"),e("th",null,"Score"),e("th",null,"Rank")])],-1),T=e("th",null,null,-1),$=e("td",null," Average Score ",-1),A=e("td",null,null,-1),H={__name:"CourseResultView",setup(M){const p=w().params.id,_=i(null),h=i(null),c=i("");(async()=>{const o=await b.get(`/result/course/${p}`);let{results:d,exams:s}=await o.data;h.value=d.map(a=>({...a,results:a.results.map(t=>({...t,examName:s.find(n=>n._id===t.exam_id).name})),averageScore:(a.results.reduce((t,n)=>t+n.score,0)/s.length).toFixed(2)})),_.value=h.value})();const v=i(null);(async()=>{const o=await b.get(`/course/${p}`);v.value=o.data})();const f=()=>{_.value=h.value.filter(o=>o.name.toLowerCase().includes(c.value.toLowerCase())||o.joiningId.toLowerCase().includes(c.value.toLowerCase()))};return(o,d)=>(u(),r("div",null,[e("div",S,[e("div",I,[L,y(e("input",{type:"text",onInput:f,placeholder:"Search by name or Joining Id","onUpdate:modelValue":d[0]||(d[0]=s=>c.value=s),class:"input input-bordered"},null,544),[[C,c.value]])])]),e("div",N,[(u(!0),r(g,null,x(_.value,(s,a)=>(u(),r("div",{class:"w-[550px] mx-auto border card",key:a},[e("div",k,[e("div",null,[e("p",null,[V,m(" "+l(s.name),1)]),e("p",null,[j,m(" "+l(v.value.name),1)]),e("p",null,[B,m(" "+l(s.joiningId),1)])]),F,e("div",null,[e("div",D,[e("table",E,[J,e("tbody",null,[(u(!0),r(g,null,x(s.results,(t,n)=>(u(),r("tr",{key:t._id},[e("th",null,l(n+1),1),e("td",null,l(t.examName),1),e("td",null,l(t.score),1),e("td",null,l(t.rank),1)]))),128))]),e("tfoot",null,[T,$,e("td",null,l(s.averageScore),1),A])])])])])]))),128))])]))}};export{H as default};
